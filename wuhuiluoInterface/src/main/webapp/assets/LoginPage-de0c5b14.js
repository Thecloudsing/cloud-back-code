import{r as p,A as O,_ as V,R as T,b as g,j as t,d as n,n as y,C as W,e as H}from"./index-b467bab1.js";import{ai as _,ak as m,a2 as w,R as $,$ as q,a7 as U,au as D,aq as G,a as K}from"./api-5f1978fd.js";import{L as J,U as Q}from"./UserOutlined-27299b95.js";import"./index-e377c6e8.js";var X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const Y=X;var Z=function(e,o){return p.createElement(O,V({},e,{ref:o,icon:Y}))};const ee=p.forwardRef(Z);var oe=["options","fieldProps","proFieldProps","valueEnum"],re=T.forwardRef(function(r,e){var o=r.options,i=r.fieldProps,s=r.proFieldProps,l=r.valueEnum,c=g(r,oe);return t.jsx(m,n({ref:e,valueType:"checkbox",valueEnum:w(l,void 0),fieldProps:n({options:o},i),lightProps:n({labelFormatter:function(){return t.jsx(m,n({ref:e,valueType:"checkbox",mode:"read",valueEnum:w(l,void 0),filedConfig:{customLightMode:!0},fieldProps:n({options:o},i),proFieldProps:s},c))}},c.lightProps),proFieldProps:s},c))}),te=T.forwardRef(function(r,e){var o=r.fieldProps,i=r.children;return t.jsx($,n(n({ref:e},o),{},{children:i}))}),ne=_(te,{valuePropName:"checked"}),L=ne;L.Group=re;const ie=L;var se=["fieldProps","proFieldProps"],ae=["fieldProps","proFieldProps"],F="text",le=function(e){var o=e.fieldProps,i=e.proFieldProps,s=g(e,se);return t.jsx(m,n({valueType:F,fieldProps:o,filedConfig:{valueType:F},proFieldProps:i},s))},de=function(e){var o=e.fieldProps,i=e.proFieldProps,s=g(e,ae);return t.jsx(m,n({valueType:"password",fieldProps:o,proFieldProps:i,filedConfig:{valueType:F}},s))},S=le;S.Password=de;S.displayName="ProFormComponent";const I=S;var ce=function(e){var o;return o={},y(o,e.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:e.colorTextSecondary,fontSize:e.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),y(o,"@media (min-width: @screen-md-min)",y({},"".concat(e.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"})),o};function ue(r){return q("LoginForm",function(e){var o=n(n({},e),{},{componentCls:".".concat(r)});return[ce(o)]})}var pe=["logo","message","contentStyle","title","subTitle","actions","children"];function me(r){var e,o=r.logo,i=r.message,s=r.contentStyle,l=r.title,c=r.subTitle,v=r.actions,N=r.children,a=g(r,pe),B=U(),E=a.submitter===!1?!1:n(n({searchConfig:{submitText:B.getMessage("loginForm.submitText","登录")}},a.submitter),{},{submitButtonProps:n({size:"large",style:{width:"100%"}},(e=a.submitter)===null||e===void 0?void 0:e.submitButtonProps),render:function(f,C){var P,M=C.pop();if(typeof(a==null||(P=a.submitter)===null||P===void 0?void 0:P.render)=="function"){var u,b;return a==null||(u=a.submitter)===null||u===void 0||(b=u.render)===null||b===void 0?void 0:b.call(u,f,C)}return M}}),z=p.useContext(W.ConfigContext),j=z.getPrefixCls("pro-form-login"),k=ue(j),R=k.wrapSSR,x=k.hashId,d=function(f){return"".concat(j,"-").concat(f," ").concat(x)},h=p.useMemo(function(){return o?typeof o=="string"?t.jsx("img",{src:o}):o:null},[o]);return R(t.jsxs("div",{className:H(d("container"),x),children:[t.jsxs("div",{className:"".concat(d("top")," ").concat(x),children:[l||h?t.jsxs("div",{className:"".concat(d("header")),children:[h?t.jsx("span",{className:d("logo"),children:h}):null,l?t.jsx("span",{className:d("title"),children:l}):null]}):null,c?t.jsx("div",{className:d("desc"),children:c}):null]}),t.jsxs("div",{className:d("main"),style:n({width:328},s),children:[t.jsxs(D,n(n({isKeyPressSubmit:!0},a),{},{submitter:E,children:[i,N]})),v?t.jsx("div",{className:d("main-other"),children:v}):null]})]}))}const fe=()=>{const r=e=>{const o=e.username,i=e.password,s={account:o,password:i};console.log(e),K({type:"login",body:{url:"/database.do?operate=sign",method:"post",params:s},then(){e.autoLogin?(localStorage.setItem("username",o),localStorage.setItem("password",i)):(localStorage.removeItem("username"),localStorage.removeItem("password"));const l=o+"_.+-+._"+i;localStorage.setItem("userID",l)}})};return t.jsx(J,{children:t.jsx(G,{hashed:!1,children:t.jsx("div",{style:{backgroundColor:"white"},children:t.jsxs(me,{title:"Administration System",subTitle:"用户管理系统",onFinish:r,children:[t.jsx(I,{name:"username",fieldProps:{size:"large",prefix:t.jsx(Q,{className:"prefixIcon"})},initialValue:localStorage.getItem("username")||"",placeholder:"用户名: admin or user",rules:[{required:!0,message:"请输入用户名!"}]}),t.jsx(I.Password,{name:"password",fieldProps:{size:"large",prefix:t.jsx(ee,{className:"prefixIcon"})},initialValue:localStorage.getItem("password")||"",placeholder:"密码: ant.design",rules:[{required:!0,message:"请输入密码！"}]}),t.jsx("div",{style:{marginBlockEnd:24},children:t.jsx(ie,{noStyle:!0,name:"autoLogin",children:"自动登录"})})]})})})})};export{fe as default};
